@startuml
actor User
participant "User Profile UI" as UI
participant AccountEndpoints
participant GetProfileQueryHandler as Handler
participant ApplicationDbContext
participant Database

User -> UI : Request profile data
activate UI

UI -> AccountEndpoints : GET /api/Account/Profile
activate AccountEndpoints

AccountEndpoints -> Handler : Handle(GetProfileQuery)
activate Handler

Handler -> ApplicationDbContext : Query User Profile by UserId
activate ApplicationDbContext

ApplicationDbContext -> Database : Query User
activate Database
Database --> ApplicationDbContext : User
deactivate Database

ApplicationDbContext --> Handler : User
deactivate ApplicationDbContext
    Handler --> AccountEndpoints : UserProfileDto
    deactivate Handler
    AccountEndpoints --> UI : 200 OK (ApiResponse<UserProfileDto>)
    deactivate AccousntEndpoints
    UI -> User : Show user profile

deactivate UI

@enduml
