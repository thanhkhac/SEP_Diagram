@startuml
' ChangePassword Endpoint Class Diagram
interface IIdentityService {
    +ChangePasswordAsync(userId, currentPassword, newPassword)
}
class IdentityService {
    -UserManager<UserAccount> _userManager
    -SignInManager<UserAccount> _signInManager
    -ApplicationDbContext _dbContext
    -JwtSettings _jwtSettings
    -IGoogleAuthService _googleAuthService
    -IEmailService _emailService
}
class ChangePasswordCommand {
    +string CurrentPassword
    +string NewPassword
}
class ChangePasswordCommandHandler {
    -IIdentityService _identityService
    -IUser _currentUser
    +Handle(ChangePasswordCommand, CancellationToken)
}
class Authentication {
    +ChangePassword(ChangePasswordCommand, ISender)
}
ChangePasswordCommandHandler --> IIdentityService
ChangePasswordCommandHandler --> IUser
ChangePasswordCommandHandler --> ChangePasswordCommand
Authentication --> ChangePasswordCommandHandler : via ISender
@enduml 