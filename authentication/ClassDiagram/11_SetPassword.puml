@startuml
'=====================DEFINE========================
!define SET_PASSWORD
'=====================IMPORT========================
!include ../../GlobalSettings.puml
!include ../../common/Mediatr.puml
!include ../../common/EndpointClasses.puml
!include ../../common/service/IIdentityService.puml
'=====================COMMAND========================
class SetPasswordCommand {
    +Password: string
}
class SetPasswordCommandHandler {
    -_identityService : IIdentityService
    -_currentUser: IUser
    +Handle(command: SetPasswordCommand, cancellationToken: CancellationToken)
}
'=====================ENDPOINT========================
class AuthenticationEndpoints  {
    +ChangePassword(command: ChangePasswordCommand, sender: ISender) : Task<Ok<ApiResponse<object>>>
}
'=====================RELATIONSHIP========================
!include zCommon.puml
SetPasswordCommand ..|> IRequest : <<implements>>
SetPasswordCommandHandler ..> IIdentityService : <<inject>>
SetPasswordCommandHandler ..> SetPasswordCommand :  <<uses>>
AuthenticationEndpoints ..> SetPasswordCommand : <<uses>>
SetPasswordCommandHandler <.. ISender : <<sends to>>
SetPasswordCommandHandler ..|> IRequestHandler : <<implements>>

@enduml 